{% extends 'backend/includes/header.html' %}

{% block content %}
	{% load backend_filters %}
	<div class="container">
    	<h1>Product List</h1>		
	</div>


	<div class="container">

		<ul class="nav nav-tabs" id="myTab" role="tablist">
		  <li class="nav-item">
		    <a class="nav-link active" id="home-tab" data-toggle="tab" href="#food" role="tab" aria-controls="home" aria-selected="true">Food</a>
		  </li>
		  <li class="nav-item">
		    <a class="nav-link" id="profile-tab" data-toggle="tab" href="#health" role="tab" aria-controls="profile" aria-selected="false">Health</a>
		  </li>
		  <li class="nav-item">
		    <a class="nav-link" id="contact-tab" data-toggle="tab" href="#book" role="tab" aria-controls="contact" aria-selected="false">Book</a>
		  </li>
		</ul>
		<div class="tab-content" id="myTabContent">
		  <div class="tab-pane fade show active" id="food" role="tabpanel" aria-labelledby="home-tab">
			{% if foodproduct %}
				<div class="row">
					<div class="col">
						<table class="table table-striped table-hover">
							<thead class="thead-dark">
							<tr>
								<th style="width:20%;">Product</th>
								<th style="width:15%">Cost</th>
								<th style="width:15%;">Price</th>
								<th style="width:15%;">Stock In</th>
								<th style="width:15%;">Stock Out</th>
								<th style="width:15%;">Stock On Hand</th>
								<th style="width:1%;"></th>
								<th style="width:1%;"></th>
								<th style="width:1%;"></th>
							</tr>
							</thead>
							{% for fp in foodproduct %}
							<tr>
								<td><a href='{% url 'backend:product_detail' fp.pid %}'> {{ fp.pname }} </a></td>
								<td> {{ fp.pcost }} </td>
								<td> {{ fp.pprice }} </td>
								<td> {{ fp.sin }} </td>
								<td> {{ fp.sout }} </td>
								<td> {{ fp.soh }} </td>
								<td>
									
									<input class="btn btn-primary btn-sm" type="submit" value="-">
								</td>

								{% if cart|get_item:fp.pid %}
								<td>{{ cart|get_item:fp.pid }} </td>
								{% else %}
								<td>0</td>
								{% endif %}

								<td>
									<form action='{% url 'backend:addtocart' fp.pid %}'>
									<input class="btn btn-primary btn-sm" type="submit" value="+">
									</form>
								</td>
							</tr>	
							{% endfor %}
						</table>
					</div>
				</div>
			{% else %}
			    <p>No products are available.</p>
			{% endif %}
		  </div>
		  <div class="tab-pane fade" id="health" role="tabpanel" aria-labelledby="profile-tab">
			{% if healthproduct %}
				<div class="row">
					<div class="col">
						<table class="table table-striped table-hover">
							<thead class="thead-dark">
							<tr>
								<th style="width:40%;">Product</th>
								<th style="width:30%;">Cost</th>
								<th style="width:30%;">Price</th>
							</tr>
							</thead>
							{% for hp in healthproduct %}
							<tr onclick="window.location='{% url 'backend:product_detail' hp.pid %}';">
								<td> {{ hp.pname }} </td>
								<td> {{ hp.pcost }} </td>
								<td> {{ hp.pprice }} </td>
							</tr>	
							{% endfor %}
						</table>
					</div>
				</div>
			{% else %}
			    <p>No products are available.</p>
			{% endif %}
		  </div>
		  <div class="tab-pane fade" id="book" role="tabpanel" aria-labelledby="contact-tab">
			<p>No products are available.</p>
		  </div>

		</div>
	</div>



{% endblock %}
